## Retrieve session credentials for AWS SSO Role




# retrieve access-token from ~./aws/sso/cache/

# if expired:
 # aws sso login
  # optional profile name

# aws sso list-accounts
 # takes access-token
 # gives account-id

# aws sso list-account-roles
 # takes access-token and account-id
 # gives role list

# aws sso get-role-credentials
 # takes access-token, account-id, role-name
 # gives session credentials

# save credentials to ~/.aws/credentials
 # optional profile name

# optional export credentials to env_vars

# optional external credential provider

# optional:
#  -p <aws_profile_name>
#  -r <role_arn>
#  -e export env_vars